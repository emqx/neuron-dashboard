(window["webpackJsonp_eKuiper"]=window["webpackJsonp_eKuiper"]||[]).push([["chunk-420cc793"],{"14e2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{"class-name":"confkey-modal--view view-form",title:e.modalTitle,width:650,"mask-closable":!1},on:{"on-visible-change":e.closeModal},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("Form",{ref:"confKeyFormRef",attrs:{model:e.confKeyForm}},[n("Row",[n("i-col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("common.name"),prop:"name",required:!e.isDetail}},[n("i-input",{attrs:{size:"large",disabled:e.isEdit||e.isDetail},model:{value:e.confKeyForm.name,callback:function(t){e.$set(e.confKeyForm,"name",t)},expression:"confKeyForm.name"}})],1),e.type?e._e():n("FormItem",{attrs:{label:e.$t("common.type"),prop:"confKeyType",required:!e.isDetail}},[n("ConfKeyTypesSeletor",{attrs:{category:e.category,disabled:e.isEdit||e.isDetail},on:{onChange:e.changeConfKeyType},model:{value:e.confKeyForm.confKeyType,callback:function(t){e.$set(e.confKeyForm,"confKeyType",t)},expression:"confKeyForm.confKeyType"}})],1)],1)],1)],1),n("PropertyForm",{ref:"propertyFormRef",attrs:{from:"sources",type:e.confKeyType,properties:e.confKeyProperties.default,form:e.propertiesForm,modalVisible:e.visible}}),e.isCanAdvanced?n("section",[n("SinkBaseForm",{ref:"advanceFormRef",attrs:{type:e.confKeyType,form:e.advanceForm},on:{changeConnectionSelector:e.changeConnectionSelector}})],1):e._e(),!e.isCanAdvanced&&e.isShowConnectionSelector?n("Form",{attrs:{model:e.confKeyForm}},[n("Row",[n("i-col",{attrs:{span:"12"}},[e.isCanConnection?n("FormItem",{attrs:{label:e.$t("configuration.connectionSelector")}},[n("ConnectionSelector",{attrs:{type:e.confKeyType},on:{onChange:e.changeConnectionSelector},model:{value:e.confKeyForm.connectionSelector,callback:function(t){e.$set(e.confKeyForm,"connectionSelector",t)},expression:"confKeyForm.connectionSelector"}})],1):e._e()],1)],1)],1):e._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:e.closeModal}},[e._v(e._s(e.$t("common.cancel")))]),n("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("common.submit")))]),n("Button",{staticClass:"btn-test-connection",attrs:{type:"primary",ghost:"",loading:e.isLoadingTest},on:{click:function(t){return e.submit("testConnection")}}},[e._v(" "+e._s(e.$t("common.testConnection"))+" ")])],1)],1)},r=[],o=n("a34a"),i=n.n(o),c=n("724c"),s=n("7d99"),l=n("75f3"),u=n("40ee"),d=n("e2635"),p=n("a5ff"),f=n("92ad"),m=["omitIfEmpty","sendSingle","format","schemaName","schemaMessage","dataTemplate","concurrency","bufferLength","enableCache","memoryCacheThreshold","maxDiskCache","cleanCacheAtStop","bufferPageSize","resendInterval","runAsync","connectionSelector"],h=["connectionSelector"],y=["name"],b=["connectionSelector"];function v(e,t){if(null==e)return{};var n,a,r=g(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function C(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){C(o,a,r,i,c,"next",e)}function c(e){C(o,a,r,i,c,"throw",e)}i(void 0)}))}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={name:"ConfKeyPeopertiesModal",components:{ConfKeyTypesSeletor:u["a"],PropertyForm:l["a"],SinkBaseForm:d["a"],ConnectionSelector:p["a"]},props:{category:{type:String,default:"sources"},type:{type:String,default:""},confKeyName:{type:String,default:""},modalVisible:{type:Boolean,default:!1},isDetail:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},isCanAdvanced:{type:Boolean,default:!1},isShowConnectionSelector:{type:Boolean,default:!1},title:{type:String,default:""}},mixins:[c["a"]],data:function(){return{loading:!1,allConfKeysData:{},confKeyForm:{name:"",confKeyType:"",connectionSelector:""},confKeyProperties:{default:[]},propertiesForm:{},advanceForm:{},isLoadingTest:!1}},computed:{visible:{get:function(){return this.modalVisible},set:function(e){this.$emit("update:modalVisible",e)}},confKeyType:function(){return this.type||this.confKeyForm.confKeyType},modalTitle:function(){return this.title?this.title:this.isEdit?this.$t("configuration.editConfKey"):this.$t("configuration.addConfKey")},isCanConnection:function(){return["mqtt","edgex"].includes(this.confKeyType)}},watch:{modalVisible:{immediate:!0,handler:function(e){e&&this.type&&this.getFormData()}}},methods:{changeConfKeyType:function(e){e&&this.getFormData()},changeConnectionSelector:function(e){var t=this,n={nodeID:this.nodeID,name:this.confKeyType};Object(s["g"])("connections",n).then((function(n){var a=n.data,r=a[e];t.propertiesForm=_(_({},t.propertiesForm),r)}))},getFormData:function(){var e=this;return S(i.a.mark((function t(){var n,a,r,o,c,l,u,d,p,y,b,g,C,S,x,$,D,w,k,I,T,F,O,j,K,A,P,V;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,n={nodeID:e.nodeID,name:e.confKeyType},t.next=5,Object(s["f"])(e.category,n);case 5:if(a=t.sent,r=a.data,o=r.properties,c=(null===o||void 0===o?void 0:o.default)||(Array.isArray(o)?o:[]),c=c.filter((function(e){return"connectionSelector"!==e.name})),!e.isEdit){t.next=22;break}return t.next=13,Object(s["g"])(e.category,n);case 13:l=t.sent,u=l.data,e.allConfKeysData=u,d=e.allConfKeysData[e.confKeyName],p=null,e.isCanAdvanced?(e.confKeyForm={name:e.confKeyName,confKeyType:e.type},y=d.omitIfEmpty,b=d.sendSingle,g=d.format,C=d.schemaName,S=d.schemaMessage,x=d.dataTemplate,$=d.concurrency,D=d.bufferLength,w=d.enableCache,k=d.memoryCacheThreshold,I=d.maxDiskCache,T=d.cleanCacheAtStop,F=d.bufferPageSize,O=d.resendInterval,j=d.runAsync,K=d.connectionSelector,A=v(d,m),p=K?K.split(".")[1]:"",e.advanceForm={omitIfEmpty:y,sendSingle:b,format:g,schemaName:C,schemaMessage:S,dataTemplate:x,concurrency:$,bufferLength:D,enableCache:w,memoryCacheThreshold:k,maxDiskCache:I,cleanCacheAtStop:T,bufferPageSize:F,resendInterval:O,runAsync:j,connectionSelector:p},e.propertiesForm=_({},A)):(P=d.connectionSelector,V=v(d,h),p=P?P.split(".")[1]:"",e.confKeyForm={name:e.confKeyName,confKeyType:e.type,connectionSelector:p},e.propertiesForm=_({},V)),p&&e.changeConnectionSelector(p),t.next=23;break;case 22:e.propertiesForm=Object(f["a"])(c);case 23:e.confKeyProperties.default=c?c.map((function(t){"list"===t.control&&"list_object"===t.type&&(t.properties=t.default);var n=t.control,a=t.type,r=e.allConfKeysData&&e.allConfKeysData[t.name]||t.default;return t.default=Object(f["c"])(n,a,r),"insecureSkipVerify"===t.name&&e.allConfKeysData&&void 0===e.allConfKeysData[t.name]&&(t.default=!0),t})):[];case 24:return t.prev=24,e.loading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[0,,24,27]])})))()},closeModal:function(e){this.visible="boolean"===typeof e&&e,this.visible||(this.$refs.confKeyFormRef.resetFields(),this.$refs.propertyFormRef.resetFields(),this.confKeyProperties={default:[]},this.allConfKeysData={},this.confKeyForm={name:"",confKeyType:""},this.propertiesForm={},this.advanceForm={}),!this.visible&&this.$refs.advanceFormRef&&this.$refs.advanceFormRef.resetFields()},testConnection:function(e,t){var n=this;return S(i.a.mark((function a(){var r;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r={nodeID:n.nodeID,type:e},n.isLoadingTest=!0,Object(s["i"])(n.category,r,t).then((function(){n.$Message.success(n.$t("common.TestConnectionSuccess"))})).finally((function(){n.isLoadingTest=!1}));case 3:case"end":return a.stop()}}),a)})))()},addConfKeyAPI:function(e){var t=new Map([["sources",s["b"]],["sinks",s["a"]]]);return e&&t.get(e)||t.get("source")},addOrEditConfKey:function(e,t){var n=this;return S(i.a.mark((function a(){var r,o;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=n.addConfKeyAPI(n.category),o=n.confKeyForm.name,r(n.nodeID,e,o,t).then((function(){n.visible=!1,n.$emit("submit",_({name:o},t)),n.isEdit?n.$Message.success(n.$t("common.editSuccess")):n.$Message.success(n.$t("common.addSuccess"))}));case 3:case"end":return a.stop()}}),a)})))()},getSubmitData:function(){var e=this;return S(i.a.mark((function t(){var n,a,r,o,c,s,l,u,d,p,m;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.confKeyFormRef.validate();case 3:return n=t.sent,t.next=6,e.$refs.propertyFormRef.$refs.record.validate();case 6:if(a=t.sent,n&&a){t.next=10;break}return e.$Message.error(e.$t("common.fillContent")),t.abrupt("return",Promise.reject(new Error(!1)));case 10:return t.next=12,e.$refs.propertyFormRef.getFormData();case 12:if(r=t.sent,r.name,o=v(r,y),c={},!e.isCanAdvanced){t.next=24;break}return t.next=18,e.$refs.advanceFormRef.getFormData();case 18:s=t.sent,l=s.connectionSelector,u=v(s,b),d=l?"".concat(e.confKeyType,".").concat(l):"",c=_(_(_({},o),u),{},{connectionSelector:d}),t.next=27;break;case 24:p=e.confKeyForm.connectionSelector,c=_({},o),p&&(c=_(_({},c),{},{connectionSelector:"".concat(e.confKeyType,".").concat(p)}));case 27:return m=Object(f["b"])(c),t.abrupt("return",Promise.resolve(m));case 31:return t.prev=31,t.t0=t["catch"](0),t.abrupt("return",Promise.reject(t.t0));case 34:case"end":return t.stop()}}),t,null,[[0,31]])})))()},submit:function(e){var t=this;return S(i.a.mark((function n(){var a;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getSubmitData();case 3:a=n.sent,"testConnection"===e?t.testConnection(t.confKeyType,a):t.addOrEditConfKey(t.confKeyType,a),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},w=D,k=(n("3055"),n("2877")),I=Object(k["a"])(w,a,r,!1,null,"f58cb750",null);t["a"]=I.exports},"280d":function(e,t,n){},3055:function(e,t,n){"use strict";n("ce7e")},4041:function(e,t,n){"use strict";var a=n("c9d9");t["a"]={computed:{lang:function(){return this.$store.state.lang},i18nLabel:function(){var e=this;return function(t){if(!t)return"";var n=a["b"].get(e.lang);if(!n)return t[e.lang];var r=t[n[0]]||t[n[1]]||"";return r}}}}},"40ee":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Select",{staticClass:"custom-select",attrs:{size:"large",disabled:e.disabled},on:{"on-change":e.changeType,"on-select":e.selectedType},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},e._l(e.typeList,(function(t){return n("Option",{key:t.name,attrs:{value:t.name,label:t.name,disabled:!t.about.installed}},[n("div",{staticClass:"title"},[e._v(e._s(t.name))]),t.about.installed?e._e():n("Tooltip",{staticClass:"tag",attrs:{content:e.$t("plugins.installTip"),placement:"top","max-width":"200px",transfer:""}},[n("Button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.routeToInstallPage(t.name)}}},[e._v(" "+e._s(e.$t("common.install"))+" ")])],1),n("div",{staticClass:"info"},[e._v(e._s(t.about.author.name)+", "+e._s(t.about.author.email))]),n("p",{staticClass:"description"},[e._v(" "+e._s(e.i18nLabel(t.about.description))+" ")])],1)})),1)},r=[],o=n("724c"),i=n("4041"),c=n("7d99"),s={name:"ConfKeyTypesSeletor",props:{value:{type:String,default:""},category:{type:String,default:""},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){}}},mixins:[o["a"],i["a"]],data:function(){return{typeList:[]}},computed:{myValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},created:function(){this.getConfKeyTypeList()},methods:{getConfKeyTypeList:function(){var e=this;this.category&&Object(c["f"])(this.category,{nodeID:this.nodeID},this.params).then((function(t){var n=t.data;e.typeList=n||[]}))},changeType:function(e){this.$emit("onChange",e)},selectedType:function(e){var t=this.typeList.find((function(t){return t.name===e.value}));this.$emit("onSelected",t)},routeToInstallPage:function(e){this.$router.push({path:"/nodes/".concat(this.nodeID,"/extension"),query:{fromPage:"stream"}});var t={fromType:"sources",pluginName:e};sessionStorage.setItem("installInfo",JSON.stringify(t))}}},l=s,u=n("2877"),d=Object(u["a"])(l,a,r,!1,null,null,null);t["a"]=d.exports},5004:function(e,t,n){"use strict";n("280d")},5353:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-value-editor"},[n("Table",{attrs:{columns:e.tableCol,data:e.tableData},scopedSlots:e._u([{key:"key",fn:function(t){var a=t.row,r=t.index;return[n("i-input",{attrs:{disabled:e.disabled,placeholder:e.tableData[r].name.toString()},on:{"on-blur":function(t){return e.atInputChange(a)}},model:{value:e.tableData[r].name,callback:function(t){e.$set(e.tableData[r],"name",t)},expression:"tableData[index].name"}})]}},{key:"value",fn:function(t){var a=t.row,r=t.index;return["int"!==a.type?n("i-input",{attrs:{placeholder:e.tableData[r].default.toString(),disabled:e.disabled},on:{"on-blur":function(t){return e.atInputChange(a)}},model:{value:e.tableData[r].default,callback:function(t){e.$set(e.tableData[r],"default",t)},expression:"tableData[index].default"}}):n("i-input",{attrs:{placeholder:e.tableData[r].default.toString(),type:"number",disabled:e.disabled},on:{"on-blur":function(t){return e.atInputChange(a)}},model:{value:e.tableData[r].default,callback:function(t){e.$set(e.tableData[r],"default",e._n(t))},expression:"tableData[index].default"}})]}},{key:"action",fn:function(t){var a=t.row,r=t.index;return e.disabled?void 0:[n("Button",{attrs:{shape:"circle",type:"error",size:"small",ghost:""},on:{click:function(t){return e.deleteItem(r,a)}}},[e._v(" "+e._s(e.$t("common.delete"))+" ")])]}}],null,!0)}),e.disabled?e._e():n("Button",{staticClass:"add-kv--btn",attrs:{type:"text",icon:"md-add",ghost:""},on:{click:e.addColumn}},[e._v(" "+e._s(e.$t("common.add"))+" ")])],1)},r=[];function o(e,t){return u(e)||l(e,t)||c(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0)if(o.push(a.value),t&&o.length===t)break}catch(s){c=!0,r=s}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw r}}return o}}function u(e){if(Array.isArray(e))return e}var d={name:"KeyValueEditor",model:{prop:"value",event:"update"},props:{value:{type:[Object,Array],default:function(){return{}}},templateData:{type:[Object,Array],default:null},disabled:{type:Boolean,default:!1},modalVisible:{type:Boolean,default:!1},properties:{type:Array,default:null}},watch:{modalVisible:function(e){e&&this.initTableData()},value:function(e){this.initTableData(e)}},data:function(){return{tableCol:[{title:this.$t("common.key"),key:"name",slot:"key"},{title:this.$t("common.value"),key:"default",slot:"value"},{title:this.$t("common.operations"),width:180,slot:"action"}],tableData:[]}},created:function(){this.initTableData(),this.atInputChange()},methods:{initTableData:function(e){var t=this,n=e||this.value;if(this.templateData&&!n){var a=this.templateData?this.templateData:{};this.tableData=Object.keys(a).map((function(e){return{name:e,default:a[e]||"",type:"string"}}))}else if(n){var r=[],i=n;Array.isArray(i)?i.forEach((function(e,t){null!==e&&void 0!==e&&e.name?r.push({name:e.name,default:e.default||""}):r.push({name:t,default:e||""})})):Object.entries(i).forEach((function(e){var n=o(e,2),a=n[0],i=n[1],c=t.properties?t.properties.find((function(e){return e.name===a})):null,s=c?c.type:"string";r.push({name:a,default:i||"",type:s})})),this.tableData=r}},atInputChange:function(){var e={};this.tableData.forEach((function(t){var n=t.name;""===t.default?e[n]=void 0:e[n]=t.default})),this.$emit("update",e)},deleteItem:function(e){this.tableData.splice(e,1),this.atInputChange()},addColumn:function(){this.tableData.push({name:"",default:"",type:"string"})}}},p=d,f=(n("8839"),n("2877")),m=Object(f["a"])(p,a,r,!1,null,"08739d14",null);t["a"]=m.exports},"5a81":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var a=n("751a"),r=n("510b"),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a["a"].post(Object(r["c"])(e,"/schemas/".concat(t)),n)},i=function(e){return a["a"].get(Object(r["c"])(e,"/schemas/protobuf"))},c=function(e,t){return a["a"].delete(Object(r["c"])(e,"/schemas/protobuf/".concat(t)))},s=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a["a"].put(Object(r["c"])(e,"/schemas/".concat(t,"/").concat(n)),o)},l=function(e,t){return a["a"].get(Object(r["c"])(e,"/schemas/protobuf/".concat(t)))}},"75f3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",{ref:"record",staticClass:"actions-property-form",attrs:{model:e.record}},[n("Row",{attrs:{gutter:20}},e._l(e.properties,(function(t,a){return n("i-col",{key:t.name,attrs:{span:["list","textarea"].includes(t.control)?"24":"12"}},[n("FormItem",{attrs:{label:e.i18nLabel(t.label),prop:t.name,"show-message":!1,required:!t.optional&&!e.isDetail&&!(t.connection_related&&e.isSelectConfiguration)}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.i18nLabel(t.hint)}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),"text"===t.control&&"int"!==t.type?n("i-input",{attrs:{type:"password"===t.name?"password":"text",password:"password"===t.name,size:"large",disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,placeholder:t.default?t.default.toString():""},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}}):e._e(),"textarea"===t.control&&"int"!==t.type?n("i-input",{attrs:{type:"textarea",size:"large",rows:3,disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,placeholder:t.default?t.default.toString():""},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}}):e._e(),"text"===t.control&&"int"===t.type?n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,placeholder:t.default?t.default.toString():""},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,e._n(n))},expression:"record[property.name]"}}):e._e(),"radio"===t.control&&"bool"===t.type?n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record[t.name],expression:"record[property.name]"}],attrs:{disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,id:"true-"+a+"-radio",type:"radio"},domProps:{value:!0,checked:e._q(e.record[t.name],!0)},on:{change:function(n){return e.$set(e.record,t.name,!0)}}}),n("label",{attrs:{for:"true-"+a+"-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record[t.name],expression:"record[property.name]"}],attrs:{disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,id:"false-"+a+"-radio",type:"radio"},domProps:{value:!1,checked:e._q(e.record[t.name],!1)},on:{change:function(n){return e.$set(e.record,t.name,!1)}}}),n("label",{attrs:{for:"false-"+a+"-radio"}},[e._v("False")])])]):e._e(),"select"===t.control?[n("Select",{attrs:{size:"large",disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,placeholder:t.default?t.default.toString():"",clearable:""},on:{"on-clear":function(n){return e.handleClear(t.name)}},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}},e._l(t.values,(function(t,a){return n("Option",{key:a,attrs:{value:t}},[e._v(e._s(t))])})),1)]:e._e(),"list"===t.control&&"list_object"!==t.type&&"object"!==t.type?[n("Select",{attrs:{filterable:"",multiple:"","allow-create":"",size:"large",disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration,placeholder:e.$t("rules.enterCreate")},on:{"on-create":e.addField,"on-change":e.handleFieldsChange},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}},[e.isDetail||"edit"===e.accessType||e.isSelectConfiguration?e._l(e.record[t.name],(function(t,a){return n("Option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})):e._l(e.filedData,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]:e._e(),"list"===t.control&&"list_object"===t.type?[n("KeyValueEditor",{attrs:{templateData:t.default,properties:t.properties,modalVisible:e.modalVisible,disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}})]:e._e(),"list"===t.control&&"object"===t.type?[n("span",{staticClass:"list-objet-mode"},[n("span",{staticClass:"text"},[e._v(e._s(e.$t(""+e.JSONWayText)))]),n("i-switch",{attrs:{size:"small"},on:{"on-change":function(n){return e.changeHeaderMode(t.name)}},model:{value:e.header.mode,callback:function(t){e.$set(e.header,"mode",t)},expression:"header.mode"}})],1),e.valueIsString(t.name)?n("KeyValueTextare",{attrs:{placeholder:e.header.placeholder},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}}):n("KeyValueEditor",{attrs:{disabled:e.isDetail||t.connection_related&&e.isSelectConfiguration},model:{value:e.record[t.name],callback:function(n){e.$set(e.record,t.name,n)},expression:"record[property.name]"}})]:e._e()],2)],1)})),1)],1)},r=[],o=n("2ef0"),i=n("5353"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i-input",{staticClass:"json-input",attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:e.placeholder},on:{"on-blur":e.changeValue},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})},s=[],l={name:"KeyValueTextare",props:{value:{type:[Object,String],default:function(){}},placeholder:{type:String,default:"Enter headers"}},data:function(){return{myValue:""}},computed:{valueIsString:function(){return"string"===typeof this.value}},watch:{value:{immediate:!0,handler:function(e){if(e)if(this.valueIsString)this.myValue=e;else{for(var t=Object.entries(e),n="",a=0;a<t.length;a+=1){var r=t[a],o=r[0],i=r[1]||"",c="".concat(o,":").concat(i);n+="".concat(c,"\n")}this.myValue=n.slice(0,n.length-1)}else this.myValue=""}}},methods:{changeValue:function(){if(this.myValue)if(this.valueIsString)this.$emit("input",this.myValue);else{for(var e=this.myValue,t={},n=e.split("\n"),a=0;a<n.length;a+=1){var r=n[a],o=r.indexOf(":");if(r){var i="",c="";o>-1&&r.slice(0,o)?(i=r.slice(0,o).trim(),c=r.slice(o+1).trim()):i=r,t[i]=c}}this.$emit("input",t)}else{var s=this.valueIsString?"":{};this.$emit("input",s)}}}},u=l,d=n("2877"),p=Object(d["a"])(u,c,s,!1,null,null,null),f=p.exports,m=n("724c"),h=n("4041"),y={name:"ActionsPropertyForm",components:{KeyValueEditor:i["a"],KeyValueTextare:f},mixins:[m["a"],h["a"]],props:{isDetail:{type:Boolean,default:!1},properties:{requried:!0,type:Array,default:function(){return[]}},form:{type:Object,default:null},type:{type:String,default:"mqtt"},rule:{type:Boolean,default:!1},modalVisible:{type:Boolean,default:!1}},data:function(){return{record:{},accessType:this.$route.query.oper,filedData:[],isSelectConfiguration:!1,header:{mode:!0,placeholder:'{"key":"{{value}}"}'}}},computed:{valueIsString:function(){var e=this;return function(t){var n="string"===typeof e.record[t];return e.header.mode=!n,n}},JSONWayText:function(){return this.header.mode?"rules.visualizationMode":"rules.textMode"}},watch:{form:{handler:function(e){var t=this;this.record=Object(o["cloneDeep"])(e);var n=this.properties&&this.properties.filter((function(e){return"list"===e.control&&"list_object"===e.type}));n.forEach((function(e){!t.record[e.name]&&e.default&&(t.record[e.name]=e.default)})),e.servers&&e.servers.forEach((function(e){t.filedData.push(e)})),setTimeout((function(){t.$set(t.record,"server",e.server),t.$set(t.record,"port",e.port)}))},deep:!0,immediate:!0},properties:function(e){if(e){var t=e.find((function(e){return"insecureSkipVerify"===e.name}));t&&"boolean"===typeof t.defaul&&(this.record.insecureSkipVerify=t.default)}},record:{handler:function(){this.record.connectionSelector?this.isSelectConfiguration=!0:this.isSelectConfiguration=!1},immediate:!0,deep:!0}},methods:{changeHeaderMode:function(e){this.record[e]=this.header.mode?{}:""},addField:function(e){this.filedData.push(e)},handleFieldsChange:function(e){0===e.length&&e.push("")},getFormData:function(){var e=this;return new Promise((function(t,n){e.$refs.record.validate((function(a){a||n(new Error(e.$t("common.invalidateForm"))),t(e.record)}))}))},handleClear:function(e){var t=this;"connectionSelector"===e&&this.properties.forEach((function(e){e.connection_related&&t.$set(t.record,e.name,e.default)}))},resetFields:function(){this.record={}}}},b=y,v=(n("5004"),Object(d["a"])(b,a,r,!1,null,"547d7245",null));t["a"]=v.exports},"7d99":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n("751a"),r=n("510b"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r["c"])(e,"/metadata/resources");return a["a"].get(n,{params:t})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sources",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.nodeID,i=t.name,c=Object(r["c"])(o,"/metadata/".concat(e));return i&&(c="".concat(c,"/").concat(i)),a["a"].get(c,{params:n})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sources",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.nodeID,i=t.name,c=Object(r["c"])(o,"/metadata/".concat(e,"/yaml"));return i&&(c="".concat(c,"/").concat(i)),a["a"].get(c,{params:n})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sources",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.nodeID,i=t.type;return a["a"].post(Object(r["c"])(o,"/metadata/".concat(e,"/connection/").concat(i)),n)},l=function(e,t){return a["a"].get(Object(r["c"])(e,"/metadata/sources/yaml/".concat(t)))},u=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,c=Object(r["c"])(e,"/metadata/sources/".concat(t,"/confKeys"));return n&&(c="".concat(c,"/").concat(n)),i&&(c="".concat(c,"/").concat(i)),a["a"].put(c,o)},d=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,c=Object(r["c"])(e,"/metadata/sinks/".concat(t,"/confKeys"));return n&&(c="".concat(c,"/").concat(n)),i&&(c="".concat(c,"/").concat(i)),a["a"].put(c,o)},p=function(e,t,n){return a["a"].delete(Object(r["c"])(e,"/metadata/sources/".concat(t,"/confKeys/").concat(n)))},f=function(e,t,n){return a["a"].delete(Object(r["c"])(e,"/metadata/sinks/".concat(t,"/confKeys/").concat(n)))}},8839:function(e,t,n){"use strict";n("e874")},"92ad":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n("2ef0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){if("object"!==r(e))return e;var t=Object(a["cloneDeep"])(e),n=Object.keys(t);return n.forEach((function(e){var n=t[e];void 0===n||null===n||""===n?delete t[e]:"object"===r(n)&&(Object.keys(n).length?o(n):delete t[e])})),t}function i(e,t,n){if(void 0===n||null===n){var a=new Map([["text_string",""],["text_int",null],["text_default",""],["textarea_string",""],["textarea_default",""],["radio_bool",null],["radio_default",null],["select_string",""],["select_list_string",""],["select_default",""],["list_string",""],["list_list_object",{}],["list_object",{}],["list_default",""]]),r=a.get("".concat(e,"_").concat(t))||a.get("".concat(e,"_default"));return r}var o=n;return Array.isArray(n)&&(o=n[0]),o}function c(e){if(!Array.isArray(e))return{};var t=Object(a["cloneDeep"])(e);if(!t.length)return{};var n={};return t.forEach((function(e){var t=e.name,a=e.default,r=e.control,o=e.type;n[t]=a||i(r,o,a)})),n}},a5ff:function(e,t,n){"use strict";var a,r,o=n("f065"),i=n("724c"),c=n("7d99"),s={name:"ConnectionSelector",extends:o["a"],props:{type:{type:String,default:"edgex"},lists:{type:Array,default:function(){return null}}},mixins:[i["a"]],computed:{isCanConnection:function(){var e=this;return function(t){return["mqtt","edgex"].includes(t||e.type)}}},watch:{type:{immediate:!0,handler:function(e){if(this.lists)this.list=this.lists;else if(e){if(this.isCanConnection(e))return void this.init();this.myValue="",this.list=[]}}}},created:function(){this.lists&&(this.list=this.lists)},methods:{getList:function(){var e=this;return new Promise((function(t,n){var a={nodeID:e.nodeID,name:e.type};e.type&&e.isCanConnection(e.type)?Object(c["g"])("connections",a).then((function(e){var n=e.data,a=Object.keys(n);t(a)})).catch((function(e){n(e)})):t([])}))}}},l=s,u=n("2877"),d=Object(u["a"])(l,a,r,!1,null,null,null);t["a"]=d.exports},c9d9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=[{value:"en",label:"English"},{value:"zh",label:"简体中文"}],r=new Map([["en",["en","en_US"]],["zh",["zh","zh_CN"]]])},ce7e:function(e,t,n){},e2635:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",{ref:"record",staticClass:"base-properties-form",attrs:{model:e.record}},[n("Row",{attrs:{gutter:20}},[n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.omitIfEmpty"),prop:"omitIfEmpty"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.omitIfEmptyDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.omitIfEmpty,expression:"record.omitIfEmpty"}],attrs:{id:"true-omit-radio",type:"radio",disabled:e.isDetail},domProps:{value:!0,checked:e._q(e.record.omitIfEmpty,!0)},on:{change:function(t){return e.$set(e.record,"omitIfEmpty",!0)}}}),n("label",{attrs:{for:"true-omit-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.omitIfEmpty,expression:"record.omitIfEmpty"}],attrs:{id:"false-omit-radio",type:"radio",disabled:e.isDetail},domProps:{value:!1,checked:e._q(e.record.omitIfEmpty,!1)},on:{change:function(t){return e.$set(e.record,"omitIfEmpty",!1)}}}),n("label",{attrs:{for:"false-omit-radio"}},[e._v("False")])])])],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.sendSingle"),prop:"sendSingle"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.sendSingleDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.sendSingle,expression:"record.sendSingle"}],attrs:{disabled:e.isDetail,id:"true-send-radio",type:"radio"},domProps:{value:!0,checked:e._q(e.record.sendSingle,!0)},on:{change:function(t){return e.$set(e.record,"sendSingle",!0)}}}),n("label",{attrs:{for:"true-send-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.sendSingle,expression:"record.sendSingle"}],attrs:{disabled:e.isDetail,id:"false-send-radio",type:"radio"},domProps:{value:!1,checked:e._q(e.record.sendSingle,!1)},on:{change:function(t){return e.$set(e.record,"sendSingle",!1)}}}),n("label",{attrs:{for:"false-send-radio"}},[e._v("False")])])])],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("streams.format"),prop:"format"}},[n("Select",{attrs:{size:"large",clearable:""},model:{value:e.record.format,callback:function(t){e.$set(e.record,"format",t)},expression:"record.format"}},e._l(e.formatList,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1)],1),"protobuf"===e.record.format?n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("streams.schemaName"),prop:"format"}},[n("Select",{attrs:{size:"large"},model:{value:e.record.schemaName,callback:function(t){e.$set(e.record,"schemaName",t)},expression:"record.schemaName"}},e._l(e.schemaNameList,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1)],1):e._e(),"protobuf"===e.record.format?n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("streams.schemaMessage"),prop:"format"}},[n("i-input",{attrs:{size:"large"},model:{value:e.record.schemaMessage,callback:function(t){e.$set(e.record,"schemaMessage",t)},expression:"record.schemaMessage"}})],1)],1):e._e(),n("i-col",{attrs:{span:24}},[n("FormItem",{attrs:{label:e.$t("rules.dataTemplate"),prop:"dataTemplate"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.dataTemplateDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"textarea",size:"large",rows:3,disabled:e.isDetail},model:{value:e.record.dataTemplate,callback:function(t){e.$set(e.record,"dataTemplate",t)},expression:"record.dataTemplate"}})],1)],1),n("Divider",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.showAdvanced=!e.showAdvanced}}},[e.showAdvanced?n("Icon",{attrs:{type:"ios-arrow-up"}}):n("Icon",{attrs:{type:"ios-arrow-down"}}),e._v(" "+e._s(e.$t("common.advanced"))+" ")],1)]),e.showAdvanced?[n("i-col",{directives:[{name:"show",rawName:"v-show",value:e.isCanConnection,expression:"isCanConnection"}],attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("configuration.connectionSelector"),prop:"connectionSelector"}},[n("ConnectionSelector",{attrs:{type:e.type},on:{onChange:e.changeConnectionSelector},model:{value:e.record.connectionSelector,callback:function(t){e.$set(e.record,"connectionSelector",t)},expression:"record.connectionSelector"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.concurrency"),prop:"concurrency"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.sinkConcurrencyDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"1"},model:{value:e.record.concurrency,callback:function(t){e.$set(e.record,"concurrency",e._n(t))},expression:"record.concurrency"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.bufferLength"),prop:"bufferLength"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.sinkBufferLengthDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"1024"},model:{value:e.record.bufferLength,callback:function(t){e.$set(e.record,"bufferLength",e._n(t))},expression:"record.bufferLength"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.enableCache"),prop:"enableCache"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.enableCacheDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.enableCache,expression:"record.enableCache"}],attrs:{id:"true-enable-cache-radio",type:"radio",disabled:e.isDetail},domProps:{value:!0,checked:e._q(e.record.enableCache,!0)},on:{change:function(t){return e.$set(e.record,"enableCache",!0)}}}),n("label",{attrs:{for:"true-enable-cache-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.enableCache,expression:"record.enableCache"}],attrs:{disabled:e.isDetail,id:"false-enable-cache-radio",type:"radio"},domProps:{value:!1,checked:e._q(e.record.enableCache,!1)},on:{change:function(t){return e.$set(e.record,"enableCache",!1)}}}),n("label",{attrs:{for:"false-enable-cache-radio"}},[e._v("False")])])])],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.cleanCacheAtStop"),prop:"cleanCacheAtStop"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.cleanCacheAtStopDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.cleanCacheAtStop,expression:"record.cleanCacheAtStop"}],attrs:{id:"true-clean-cache-radio",type:"radio",disabled:e.isDetail},domProps:{value:!0,checked:e._q(e.record.cleanCacheAtStop,!0)},on:{change:function(t){return e.$set(e.record,"cleanCacheAtStop",!0)}}}),n("label",{attrs:{for:"true-clean-cache-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.cleanCacheAtStop,expression:"record.cleanCacheAtStop"}],attrs:{disabled:e.isDetail,id:"false-clean-cache-radio",type:"radio"},domProps:{value:!1,checked:e._q(e.record.cleanCacheAtStop,!1)},on:{change:function(t){return e.$set(e.record,"cleanCacheAtStop",!1)}}}),n("label",{attrs:{for:"false-clean-cache-radio"}},[e._v("False")])])])],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.memoryCacheThreshold"),prop:"memoryCacheThreshold"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.memoryCacheThresholdDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"1024"},model:{value:e.record.memoryCacheThreshold,callback:function(t){e.$set(e.record,"memoryCacheThreshold",e._n(t))},expression:"record.memoryCacheThreshold"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.maxDiskCache"),prop:"maxDiskCache"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.maxDiskCacheDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"1024000"},model:{value:e.record.maxDiskCache,callback:function(t){e.$set(e.record,"maxDiskCache",e._n(t))},expression:"record.maxDiskCache"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.bufferPageSize"),prop:"bufferPageSize"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.bufferPageSizeDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"256"},model:{value:e.record.bufferPageSize,callback:function(t){e.$set(e.record,"bufferPageSize",e._n(t))},expression:"record.bufferPageSize"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.resendInterval"),prop:"resendInterval"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.resendIntervalDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("i-input",{attrs:{type:"number",size:"large",disabled:e.isDetail,placeholder:"0"},model:{value:e.record.resendInterval,callback:function(t){e.$set(e.record,"resendInterval",e._n(t))},expression:"record.resendInterval"}})],1)],1),n("i-col",{attrs:{span:12}},[n("FormItem",{attrs:{label:e.$t("rules.runAsync"),prop:"runAsync"}},[n("Tooltip",{staticClass:"field-help",attrs:{"max-width":"250px",transfer:"",placement:"top",content:e.$t("rules.runAsyncDesc")}},[n("Icon",{attrs:{type:"md-help-circle"}})],1),n("div",{staticClass:"radio-control"},[n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.runAsync,expression:"record.runAsync"}],attrs:{disabled:e.isDetail,id:"true-run-radio",type:"radio"},domProps:{value:!0,checked:e._q(e.record.runAsync,!0)},on:{change:function(t){return e.$set(e.record,"runAsync",!0)}}}),n("label",{attrs:{for:"true-run-radio"}},[e._v("True")])]),n("span",{staticClass:"radio-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.record.runAsync,expression:"record.runAsync"}],attrs:{disabled:e.isDetail,id:"false-run-radio",type:"radio"},domProps:{value:!1,checked:e._q(e.record.runAsync,!1)},on:{change:function(t){return e.$set(e.record,"runAsync",!1)}}}),n("label",{attrs:{for:"false-run-radio"}},[e._v("False")])])])],1)],1)]:e._e()],2)],1)},r=[],o=n("2ef0"),i=n("724c"),c=n("5a81"),s=n("a5ff"),l={name:"BasePropertiesForm",mixins:[i["a"]],components:{ConnectionSelector:s["a"]},props:{type:{type:String,default:""},isDetail:{type:Boolean,default:!1},form:{type:Object,default:null}},data:function(){return{showAdvanced:!1,record:{},formatList:["json","binary","protobuf"],schemaNameList:[]}},computed:{isCanConnection:function(){return["mqtt","edgex"].includes(this.type)}},watch:{form:{immediate:!0,handler:function(e){var t=Object.keys(e);t.length?this.record=Object(o["cloneDeep"])(e):this.setDefaultValues()},deep:!0}},created:function(){this.getSchemas()},methods:{setDefaultValues:function(){this.record={runAsync:!1,omitIfEmpty:!1,sendSingle:!0,dataTemplate:"",bufferLength:1024,enableCache:!1,format:"json"}},getFormData:function(){var e=this;return new Promise((function(t,n){e.$refs.record.validate((function(a){a||n(new Error(e.$t("common.invalidateForm"))),t(e.record)}))}))},resetFields:function(){this.record={}},getSchemas:function(){var e=this;Object(c["c"])(this.nodeID).then((function(t){e.schemaNameList=t.data}))},changeConnectionSelector:function(e){this.$emit("changeConnectionSelector",e)}}},u=l,d=n("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["a"]=p.exports},e874:function(e,t,n){},f065:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Select",{ref:"selectRef",class:e.className,attrs:{size:e.size,disabled:e.disabled,clearable:e.clearable,filterable:e.filterable,"allow-create":e.allowCreate},on:{"on-change":e.changeValue,"on-create":e.createItem,"on-open-change":e.openChange},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},e._l(e.list,(function(t){return n("Option",{key:t.name||t,attrs:{value:t.name||t,label:t.name||t,disabled:t.disabled||!1}},[n("span",{staticClass:"title"},[e._v(e._s(t.name||t))])])})),1)},r=[],o=n("a34a"),i=n.n(o);function c(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,s,"next",e)}function s(e){c(o,a,r,i,s,"throw",e)}i(void 0)}))}}var l={name:"TempalteSelector",props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},filterable:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},size:{type:String,default:"large"},className:{type:String,default:""}},data:function(){return{list:[],myValue:""}},watch:{value:{immediate:!0,handler:function(e){this.myValue=e}},myValue:{immediate:!0,handler:function(e){this.$emit("input",e)}}},methods:{init:function(){var e=this;return s(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:e.list=t.sent;case 3:case"end":return t.stop()}}),t)})))()},reload:function(e){this.init(),this.myValue=e},getList:function(){return new Promise((function(e){e(["test1","test2"])}))},changeValue:function(e){var t=this;return void 0===e?(this.myValue=this.value,this.myValue):(this.$nextTick((function(){t.myValue=e;var n=e;e&&(n=t.list.find((function(t){return(null===t||void 0===t?void 0:t.name)===e||t===e}))),t.$emit("onChange",n)})),this.myValue)},createItem:function(e){this.list.push(e)},openChange:function(e){this.$emit("onOpenChange",e)}}},u=l,d=n("2877"),p=Object(d["a"])(u,a,r,!1,null,null,null);t["a"]=p.exports}}]);