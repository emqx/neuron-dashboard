(window["webpackJsonp_eKuiper"]=window["webpackJsonp_eKuiper"]||[]).push([["chunk-c618cc32"],{"0481":function(e,t,n){},"0baf":function(e,t,n){},"101e":function(e,t,n){"use strict";var o=n("510b");t["a"]={computed:{isSingleNode:function(){return this.$route.params.id===o["a"]},isSubApp:function(){return this.$store.state.isSubApp},hideTabBar:function(){return this.isSingleNode&&this.isSubApp&&this.$store.state.hideTabBarInNodePage}}}},2182:function(e,t,n){},"23ac":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{"class-name":"upload-modal--create modal-view-for-neuronEx",title:e.$t("upload.createFile"),width:480,"mask-closable":!1},on:{"on-cancel":e.closeModal},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{staticClass:"upload-wrapper"},[e.isSupportCustom?n("section",{staticClass:"type-wrapper"},[n("RadioGroup",{staticClass:"radios-container",attrs:{type:"button","button-style":"solid"},model:{value:e.uploadType,callback:function(t){e.uploadType=t},expression:"uploadType"}},e._l(e.uploadTypes,(function(t){return n("Radio",{key:t.value,staticClass:"item--radio",attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1):e._e(),"file"===e.uploadType?n("section",{staticClass:"content-wrapper upload-file-wrapper"},[n("UploadFile",{staticClass:"upload-file",attrs:{accept:e.fileAccepts},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("span",{staticClass:"file-name"},[e._v(e._s(e.fileName))])],1):e._e(),e.isSupportCustom&&"text"===e.uploadType?n("section",{staticClass:"content-wrapper code-editor-wapper"},[n("Form",{ref:"fileContentRef",attrs:{model:e.fileContent,rules:e.rules}},[n("FormItem",{attrs:{label:e.$t("upload.fileName"),prop:"name"}},[n("i-input",{attrs:{size:"large"},model:{value:e.fileContent.name,callback:function(t){e.$set(e.fileContent,"name",t)},expression:"fileContent.name"}})],1),n("FormItem",{staticClass:"form-item--code",attrs:{label:e.$t("upload.fileContent"),prop:"content"}},[n("UploadFile",{staticClass:"upload-file editor-upload-file--btn",attrs:{accept:e.textFileAccept},on:{handleUpload:e.getFileContent},scopedSlots:e._u([{key:"text",fn:function(){return[n("Button",{staticClass:"upload-file--link",attrs:{type:"text"}},[e._v(e._s(e.$t("upload.uploadFile")))])]},proxy:!0}],null,!1,3953072564)}),n("div",{staticClass:"monaco-container code-container"},[n("Monaco",{attrs:{id:"file-data",backgroud:"#2c3e50",lang:"json"},model:{value:e.fileContent.content,callback:function(t){e.$set(e.fileContent,"content",t)},expression:"fileContent.content"}})],1)],1)],1)],1):e._e()]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:e.closeModal}},[e._v(e._s(e.$t("common.cancel")))]),n("Button",{attrs:{loading:e.loadingUpload,type:"primary"},on:{click:e.submit}},[e._v(" "+e._s(e.$t("common.submit"))+" ")])],1)])},a=[],i=n("724c"),r=n("9146"),s=n("b476"),l=n("91b6"),c={name:"UploadFileModal",props:{isSupportCustom:{type:Boolean,deafult:!0},fileAccepts:{type:String,deafult:"-"},modalVisible:{type:Boolean,deafult:!1}},mixins:[i["a"]],components:{UploadFile:s["a"],Monaco:r["a"]},data:function(){return{uploadTypes:[{value:"file",label:this.$t("upload.uploadByFile")},{value:"text",label:this.$t("upload.uploadByContent")}],uploadType:"file",file:null,fileContent:{name:"",content:""},textFileAccept:"text/plain, application/x-yaml, application/json, application/javascript",loadingUpload:!1,rules:{name:[{required:!0,message:this.$t("upload.fileNameRequried"),trigger:"blur"}],content:[{required:!0,message:this.$t("upload.fileContentRequried")}]}}},computed:{visible:{get:function(){return this.modalVisible},set:function(e){this.$emit("update:modalVisible",e)}},fileName:function(){return this.file?this.file.name:""}},methods:{readFile:function(e){var t=this;return new Promise((function(n,o){t.loadingUpload=!0;var a="",i=new FileReader;return"undefined"===typeof FileReader?(t.$Message.warning(t.$t("upload.unsupportReadOnBrower")),!1):(i.readAsText(e,"UTF-8"),i.onerror=function(e){t.loadingUpload=!1,t.$Message.warning(t.$t("upload.readFileError")),o(e)},i.onload=function(e){t.loadingUpload=!1,a=e.target.result,n(e.target.result)},a)}))},getFileContent:function(e){var t=this;this.readFile(e).then((function(e){t.fileContent.content=e}))},closeModal:function(){this.visible=!1,this.file=null,this.fileContent={name:"",content:""},this.$emit("clode")},upload:function(e,t){var n=this;return new Promise((function(o,a){n.loadingUpload=!0,Object(l["c"])(n.nodeID,e,t).then((function(e){n.$Message.success(n.$t("common.uploadSuccess")),n.closeModal(),n.$emit("reload"),o(e)})).catch((function(e){a(e)})).finally((function(){n.loadingUpload=!1}))}))},submit:function(){var e=this;if("file"===this.uploadType){if(!this.file)return void this.$Message.warning(this.$t("upload.fileRequried"));var t=new FormData;t.append("uploadFile",this.file),this.upload(t,!0)}else this.$refs.fileContentRef.validate((function(t){if(t){var n={name:e.fileContent.name,content:e.fileContent.content};e.upload(n,!1)}}))}}},u=c,d=(n("44be"),n("2877")),f=Object(d["a"])(u,o,a,!1,null,"ac49e62a",null);t["a"]=f.exports},"44be":function(e,t,n){"use strict";n("8656")},7766:function(e,t,n){"use strict";n("ed50")},8141:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AutoComplete",{attrs:{data:e.fileList,"filter-method":e.filterMethod,placeholder:e.placeholder,size:e.size,disabled:e.disabled},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})},a=[],i=n("91b6"),r=n("724c"),s={name:"FileListAutoCompeleteSeletor",mixins:[r["a"]],props:{value:{type:String,default:""},size:{type:String,default:"large"},prefix:{type:String,default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"http://127.0.0.1:63767/kuiper-plugins/0.9.1/sinks/alpine/file_arm64.zip"}},data:function(){return{myValue:"",fileList:[]}},watch:{value:{immediate:!0,handler:function(e){this.myValue=e}},myValue:{immediate:!0,handler:function(e){this.$emit("input",e)}}},created:function(){this.getFileList()},methods:{getFileList:function(){var e=this;Object(i["b"])(this.nodeID).then((function(t){null!==t&&void 0!==t&&t.data&&(e.fileList=t.data.map((function(t){return"".concat(e.prefix).concat(t)})))}))},filterMethod:function(e,t){return-1!==t.toUpperCase().indexOf(e.toUpperCase())}}},l=s,c=n("2877"),u=Object(c["a"])(l,o,a,!1,null,null,null);t["a"]=u.exports},8656:function(e,t,n){},"8a7a":function(e,t,n){"use strict";n("2182")},"8d2f":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabs-head"},[e.isFabric||e.isSingleNode?e._e():n("Breadcrumb",[n("BreadcrumbItem",{attrs:{to:"/nodes"}},[e._v(e._s(this.$t("nodes.nodes")))]),n("BreadcrumbItem",[n("Select",{staticClass:"node-select",attrs:{"label-in-value":"",placeholder:e.$t("nodes.currentNode")},on:{"on-change":e.handleNodeChange},model:{value:e.selectNode,callback:function(t){e.selectNode=t},expression:"selectNode"}},e._l(e.nodes,(function(e){return n("Option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1),n("div",[e._l(e.tabsData,(function(t){return[e.hiddenTabs.includes(t.id)?e._e():n("a",{key:t.id,staticClass:"crud-title",class:{active:e.activeTab===t.id},attrs:{href:"javascript:;"},on:{click:function(n){return e.goToTab(t)}}},[e._v(" "+e._s(t.name)+" ")]),e._t("custom-tab")]}))],2)],1)},a=[],i=n("2f62"),r=n("510b");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"TabsCardHead",props:{activeTab:{required:!0,type:String}},data:function(){return{selectNode:""}},computed:l(l({},Object(i["c"])(["isFabric","nodeMenuHiddenSettingMap"])),{},{hiddenTabs:function(){var e=this;return Object.keys(this.nodeMenuHiddenSettingMap).filter((function(t){return!0===e.nodeMenuHiddenSettingMap[t]}))},currentNode:function(){return this.$store.state.currentNode},isSingleNode:function(){return this.$route.params.id===r["a"]},nodes:function(){return this.$store.state.nodes},nodeID:function(){var e=this.$route.params.id||this.$store.state.currentNode.id;return e},tabsData:function(){return[{id:"source",name:this.$t("streams.source")},{id:"rules",name:this.$t("rules.rules")},{id:"extension",name:this.$t("extension.extension")},{id:"configuration",name:this.$t("configuration.configuration")},{id:"system",name:this.$t("system.system")}]}}),created:function(){this.selectNode=this.currentNode.id},methods:l(l({},Object(i["b"])(["SET_CURRENTNODE"])),{},{handleNodeChange:function(e){if(e){var t=e.value,n=e.label;this.SET_CURRENTNODE({id:t,name:n,refresh:!0}),this.$router.replace({name:this.activeTab,params:{id:t}})}},goToTab:function(e){this.$router.push({name:e.id,params:{id:this.nodeID}})}})},d=u,f=(n("7766"),n("2877")),m=Object(f["a"])(d,o,a,!1,null,null,null);t["a"]=m.exports},"91b6":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var o=n("751a"),a=n("510b"),i=function(e){var t=Object(a["c"])(e,"/config/uploads");return o["a"].get(t)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=Object(a["c"])(e,"/config/uploads"),r={headers:{"Content-Type":"multipart/form-data"}},s=n?o["a"].post(i,t,r):o["a"].post(i,t);return s},s=function(e,t){var n=Object(a["c"])(e,"/config/uploads/".concat(t));return o["a"].delete(n)}},9211:function(e,t,n){"use strict";n("0baf")},a26e:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configuration"},[n("div",{staticClass:"title-in-subapp"},[e._v(e._s(e.$t("configuration.configuration")))]),e.hideTabBar?e._e():n("TabsHead",{attrs:{"active-tab":"configuration"}}),n("Tabs",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[n("TabPane",{attrs:{name:e.tabArr[0],label:e.$t("configuration.resource")}},[e.name===e.tabArr[0]?n("Resources",{staticClass:"tab-body"}):e._e()],1),n("TabPane",{attrs:{name:e.tabArr[1],label:e.$t("configuration.connection")}},[e.name===e.tabArr[1]?n("Connections",{staticClass:"tab-body"}):e._e()],1),n("TabPane",{attrs:{name:e.tabArr[2],label:e.$t("configuration.schema")}},[e.name===e.tabArr[2]?n("Schema",{staticClass:"tab-body"}):e._e()],1),n("TabPane",{attrs:{name:e.tabArr[3],label:e.$t("configuration.fileManagement")}},[e.name===e.tabArr[3]?n("UploadManagement",{staticClass:"tab-body"}):e._e()],1)],1)],1)},a=[],i=n("8d2f"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configuration"},[n("Table",{attrs:{loading:e.loading,columns:e.recordsCol,data:e.ConnectionssData}})],1)},s=[],l=n("724c"),c=n("751a"),u=n("510b"),d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(u["c"])(e,"/metadata/connections");return t&&(o="".concat(o,"/").concat(t)),c["a"].get(o,{params:n})},f=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c["a"].put(Object(u["c"])(e,"/metadata/connections/".concat(t,"/confKeys/").concat(n)),o)},m=function(e,t,n){return c["a"].delete(Object(u["c"])(e,"/metadata/connections/".concat(t,"/confKeys/").concat(n)))},p=function(e,t){return c["a"].get(Object(u["c"])(e,"/metadata/connections/yaml/".concat(t)))},h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"config-keys"},[n("Row",{staticClass:"expand-header"},[n("h3",[e._v(" "+e._s(e.$t("configuration.confKey"))+" "),e.row.about.installed?n("Button",{staticClass:"add-confkey",attrs:{icon:"md-add",type:"primary",ghost:"",shape:"circle",size:"small"},on:{click:e.showAddModal}}):e._e()],1)]),n("Table",{attrs:{loading:e.loading,columns:e.confKeyCol,data:e.confKeys}}),n("Modal",{attrs:{"class-name":"confkey-modal--view view-form modal-view-for-neuronEx",title:e.modalTitle,width:650,"mask-closable":!1},on:{"on-visible-change":e.handleVisibleChange},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[e.isDetail?n("div",{staticClass:"view-form"},e._l(e.confKeyForm,(function(t,o){return n("div",{key:o,staticClass:"view-item"},[n("label",{staticClass:"view-item--label"},[e._v(e._s(o)+": ")]),"object"===typeof t?[n("KeyValueEditor",{ref:"keyValueEditorRef",refInFor:!0,staticClass:"detail-key-value-table",attrs:{disabled:e.isDetail,value:t}})]:n("span",[e._v(e._s(t))])],2)})),0):[n("Form",{ref:"confKeyForm",attrs:{model:e.confKeyForm}},[n("Row",[n("i-col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("common.name"),prop:"name",required:!e.isDetail}},[n("i-input",{attrs:{size:"large",disabled:e.isDetail||e.isEdit},model:{value:e.confKeyForm.name,callback:function(t){e.$set(e.confKeyForm,"name",t)},expression:"confKeyForm.name"}})],1)],1)],1)],1),n("PropertyForm",{ref:"propertyForm",attrs:{from:"sources",modalVisible:e.modalVisible,type:e.row.name,properties:e.confKeysProperties.default,form:e.confKeyForm,sameLevelFormValid:e.sameLevelFormValid}})],n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),e.isDetail?e._e():n("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("common.submit")))])],1)],2)],1)},b=[],y=n("a34a"),v=n.n(y),g=n("7d99"),C=n("75f3"),$=n("5353"),w=n("c9d9"),O=["name"];function F(e,t){return k(e)||D(e,t)||j(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function D(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){s=!0,a=l}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function k(e){if(Array.isArray(e))return e}function K(e,t){if(null==e)return{};var n,o,a=x(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}function E(e,t,n,o,a,i,r){try{var s=e[i](r),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){E(i,o,a,r,s,"next",e)}function s(e){E(i,o,a,r,s,"throw",e)}r(void 0)}))}}function P(e){return P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,L,R={name:"ConfigKeys",components:{PropertyForm:C["a"],KeyValueEditor:$["a"]},mixins:[l["a"]],props:{row:{type:Object,required:!0},configType:{type:String}},data:function(){return{RESOURCE_TYPE:w["d"],category:w["d"].sources,loading:!1,modalVisible:!1,confKeys:[],confKeyForm:{},isDetail:!1,confKeysProperties:{default:[]},isEdit:!1,connectionsYamls:[],sameLevelFormValid:!1}},computed:{confKeyCol:function(){var e=this;this.$createElement;return[{title:this.$t("common.name"),render:function(t,n){var o=n.row.name;return t("div",[t("a",{attrs:{href:"javascript:;"},on:{click:function(){e.loadConfKeyDetail(o)}}},[o])])}},{title:this.$t("common.operations"),align:"center",render:function(t,n){var o=t("span",[t("a",{attrs:{herf:"javascript:;"},style:"margin-right:5px;",on:{click:function(){return e.editConfKey(n.row)}}},[t("Icon",{attrs:{type:"ios-create-outline"}})]),t("a",{attrs:{herf:"javascript:;"},on:{click:function(){return e.removeConfKey(n.row)}}},[t("Icon",{attrs:{type:"md-trash"}})])]),a=e.row.about.installed&&"default"!==n.row.name;return t("div",[a?o:""])}}]},isConnection:function(){return"connection"===this.configType},modalTitle:function(){var e="";return e=this.isEdit?this.$t("configuration.editConfKey"):this.isDetail?this.$t("configuration.viewConfKey"):this.$t("configuration.addConfKey"),e}},created:function(){this.category=this.isConnection?w["d"].connections:w["d"].sources,this.isConnection?(this.loadDataDetail=p,this.addDataConfKey=f,this.deleteDataConfKey=m):(this.loadDataDetail=g["h"],this.addDataConfKey=g["b"],this.deleteDataConfKey=g["d"]),this.loadData()},methods:{loadData:function(){this.loadConfKeyProperties()},loadConfKeyProperties:function(){var e=this,t={nodeID:this.nodeID,name:this.row.name};Object(g["f"])(this.category,t).then((function(n){Object(g["g"])(e.category,t).then((function(o){e.confKeys=Object.keys(o.data).map((function(e){return{name:e}})),["mqtt","edgex"].includes(e.row.name)?Object(g["g"])("connections",t).then((function(t){e.confKeysProperties.default=n.data.properties.default.map((function(n){return n.default=e.getDefaultValue(o.data.default?o.data.default[n.name]:""),"insecureSkipVerify"===n.name&&o.data.default&&void 0===o.data.default[n.name]&&(n.default=!0),"connectionSelector"===n.name&&(n.values=Object.keys(t.data)),n}))||[]})):e.confKeysProperties.default=n.data.properties.default.map((function(t){return"list"===t.control&&"list_object"===t.type?(t.properties=t.default,t.default=e.getDefaultValue(o.data.default?o.data.default[t.name]:"")):t.default=e.getDefaultValue(o.data.default?o.data.default[t.name]:""),"insecureSkipVerify"===t.name&&o.data.default&&void 0===o.data.default[t.name]&&(t.default=!0),t}))||[]}))}))},getDefaultValue:function(e){var t=e;return Array.isArray(e)&&(t=e[0]),t},loadConfKeyDetail:function(e){var t=this;this.isDetail=!0,this.modalVisible=!0,this.loadDataDetail(this.nodeID,this.row.name).then((function(n){var o=n.data,a=o[e];t.confKeyForm=V({name:e},a)}))},showAddModal:function(){this.isEdit=!1,this.isDetail=!1,this.modalVisible=!0},handleVisibleChange:function(e){e||(this.isDetail=!1,this.confKeyForm={})},removeEmpetyObject:function(e){Object.keys(e).forEach((function(t){var n=e[t];if(n&&"object"===P(n)){var o=!0;Object.values(n).forEach((function(e){void 0!==e&&(o=!1)})),o&&delete e[t]}}))},getSubmitData:function(){var e=this;return T(v.a.mark((function t(){var n,o,a,i,r,s,l,c,u,d;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e.$refs.confKeyForm.$refs.confKeyForm||e.$refs.confKeyForm,o=e.$refs.confKeyForm.$refs.propertyForm||e.$refs.propertyForm,t.next=5,n.validate();case 5:return a=t.sent,e.sameLevelFormValid=a,i=o.validatePropertiesForm,t.next=10,i();case 10:if(a){t.next=14;break}return r=e.$t("common.fillContent"),e.$Message.error(r),t.abrupt("return",Promise.reject(new Error(r)));case 14:return t.next=16,o.getFormData();case 16:return s=t.sent,s.name,l=K(s,O),c=l,c.connectionSelector&&(u=[],d={},e.confKeysProperties.default.forEach((function(e){!1===e.connection_related&&c[e.name]&&u.push(e.name)})),u.forEach((function(e){d[e]=s[e]})),c=V(V({},d),{},{connectionSelector:"".concat(e.row.name,".").concat(c.connectionSelector)})),t.abrupt("return",Promise.resolve(c));case 23:return t.prev=23,t.t0=t["catch"](0),console.error("error",t.t0),t.abrupt("return",Promise.reject(t.t0));case 27:case"end":return t.stop()}}),t,null,[[0,23]])})))()},save:function(){var e=this;return T(v.a.mark((function t(){var n;return v.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSubmitData();case 2:n=t.sent,e.removeEmpetyObject(n),e.addDataConfKey(e.nodeID,e.row.name,e.confKeyForm.name,n).then((function(){e.loadData(),e.isEdit?e.$Message.success(e.$t("common.editSuccess")):e.$Message.success(e.$t("common.addSuccess")),e.modalVisible=!1,e.confKeyForm={}}));case 5:case"end":return t.stop()}}),t)})))()},editConfKey:function(e){var t=this,n=e.name;this.loadDataDetail(this.nodeID,this.row.name).then((function(e){var o=e.data,a=o[n],i={};if(o[n].connectionSelector){var r=o[n].connectionSelector.split("."),s=F(r,2),l=s[0],c=s[1];p(t.nodeID,l).then((function(e){var r=e.data,s=r[c];Object.keys(s).forEach((function(e){i[e]=s[e]})),t.confKeyForm=V(V({name:n},a),{},{connectionSelector:o[n].connectionSelector.split(".")[1]||""},i),t.isDetail=!1,t.modalVisible=!0,t.isEdit=!0}))}else t.confKeyForm=V({name:n},a),t.isDetail=!1,t.modalVisible=!0,t.isEdit=!0}))},removeConfKey:function(e){var t=this,n=e.name;this.$Modal.confirm({title:this.$t("common.warning"),content:"".concat(this.$t("common.confirmDelete")," ").concat(n),onOk:function(){t.deleteDataConfKey(t.nodeID,t.row.name,n).then((function(){t.loadData()}))}})}}},U=R,N=(n("8a7a"),n("2877")),B=Object(N["a"])(U,h,b,!1,null,null,null),q=B.exports,z=n("4041"),H=n("570a"),J={name:"Configuration",mixins:[l["a"],z["a"],H["a"]],components:{TabsHead:i["a"]},data:function(){return{RESOURCE_TYPE:w["d"],loading:!1,ConnectionssData:[]}},computed:{recordsCol:function(){var e=this;this.$createElement;return[{type:"expand",width:50,render:function(e,t){return e(q,{attrs:{row:t.row,configType:"connection"}})}},{title:this.$t("common.name"),width:120,key:"name"},{title:this.$t("common.description"),minWidth:220,render:function(t,n){var o=n.row.about.description;return t("p",[e.i18nLabel(o)])}},{title:this.$t("common.trial"),width:80,render:function(t,n){var o=n.row.about.trial?e.$t("common.yes"):e.$t("common.no");return t("p",[o])}},{title:this.$t("plugins.installed"),width:100,render:function(t,n){var o=n.row.about.installed?e.$t("common.yes"):e.$t("common.no");return t("p",[o])}},{title:this.$t("common.operations"),width:200,render:function(t,n){var o=n.row.about,a=o.helpUrl,i=o.installed,r=t("a",{attrs:{href:"javascript:;"},style:"margin-right:10px;",on:{click:function(){e.routeToInstallPage(n.row.name)}}},[e.$t("common.install")]);return t("div",[i?null:r,t("a",{attrs:{href:e.i18nLabel(a),target:"_blank",rel:"noopener"}},[e.$t("common.documentation")])])}}]}},created:function(){this.loadConnections()},methods:{loadConnections:function(){var e=this;this.loading=!0,d(this.nodeID).then((function(t){e.ConnectionssData=t.data,e.loading=!1}))},routeToInstallPage:function(e){this.goToInstallPluginPage(w["d"].sources,e)}}},Y=J,G=Object(N["a"])(Y,r,s,!1,null,null,null),W=G.exports,Q=n("101e"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",[n("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[n("Radio",{attrs:{label:e.tabs[0]}},[e._v(e._s(e.$t("configuration.sourceConfKeys")))]),n("Radio",{attrs:{label:e.tabs[1]}},[e._v(e._s(e.$t("configuration.sinkTemplates")))])],1),e.tabName===e.tabs[0]?n("SourceConfKeys",{attrs:{confKeyList:e.confKeyListJSON.sources},on:{reload:e.getAllConfKeyList}}):e._e(),e.tabName===e.tabs[1]?n("SinkConfKeys",{attrs:{confKeyList:e.confKeyListJSON.sinks},on:{reload:e.getAllConfKeyList}}):e._e()],1)},Z=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"list-container"},[n("Button",{staticClass:"top-create--btn",attrs:{type:"primary"},on:{click:function(t){return e.showConfKeyPropertiesModal("add")}}},[n("Icon",{attrs:{type:"ios-add"}}),e._v(" "+e._s(e.$t(""+e.addBtnText))+" ")],1),n("Table",{attrs:{loading:e.loading,columns:e.columns,data:e.confKeyList}}),n("ConfKeyPeopertiesModal",{ref:"confKeyPropertiesRef",attrs:{modalVisible:e.confKeyPropertiesVisible,title:e.modalTitle,category:e.category,type:e.editConfKeyData.type,confKeyName:e.editConfKeyData.name,isEdit:e.isEditConfKey,isCanAdvanced:e.category===e.RESOURCE_TYPE.sinks,isShowConnectionSelector:e.category===e.RESOURCE_TYPE.sources},on:{"update:modalVisible":function(t){e.confKeyPropertiesVisible=t},"update:modal-visible":function(t){e.confKeyPropertiesVisible=t},submit:e.submitedConfKey}})],1)},te=[],ne=n("14e2"),oe={name:"SourceConfKey",mixins:[l["a"]],props:{confKeyList:{type:Array,default:function(){return[]}}},components:{ConfKeyPeopertiesModal:ne["a"]},data:function(){return{RESOURCE_TYPE:w["d"],category:w["d"].sources,loading:!1,isEditConfKey:!1,confKeyPropertiesVisible:!1,editConfKeyData:{}}},computed:{columns:function(){var e=this;this.$createElement;return[{title:this.$t("common.name"),key:"name"},{title:this.$t("common.type"),key:"type"},{title:this.$t("common.operations"),key:"action",width:200,align:"center",render:function(t,n){return t("div",[t("a",{style:"margin-right: 10px;",attrs:{href:"javascript:;"},on:{click:function(){e.showConfKeyPropertiesModal("edit",n.row)}}},[t("Icon",{attrs:{type:"ios-create"}})]),t("a",{attrs:{href:"javascript:;"}},[t("Poptip",{attrs:{confirm:!0,transfer:!0,width:200,title:e.$t("common.confirmDelete"),placement:"top",type:"error"},on:{"on-ok":function(){e.removeConfKey(n.row)},"on-cancel":function(){}}},[t("Icon",{attrs:{type:"md-trash"}})])])])}}]},addBtnText:function(){return this.category===w["d"].sources?"configuration.addSourceConfKey":"configuration.addSinkTemplate"},modalTitle:function(){return this.isEditConfKey?this.$t("configuration.editSourceConfKey"):this.$t("configuration.addSourceConfKey")}},methods:{showConfKeyPropertiesModal:function(e,t){this.isEditConfKey="edit"===e,this.editConfKeyData=t||{},this.confKeyPropertiesVisible=!0},removeConfKey:function(e){var t=this,n=e.name,o=e.type;Object(g["d"])(this.nodeID,o,n).then((function(){t.$emit("reload")}))},submitedConfKey:function(){this.$emit("reload")}}},ae=oe,ie=(n("c19d"),Object(N["a"])(ae,ee,te,!1,null,"cbe5ce2c",null)),re=ie.exports,se={name:"SinkConfKey",extends:re,mixins:[l["a"]],data:function(){return{category:w["d"].sinks}},computed:{modalTitle:function(){return this.isEditConfKey?this.$t("configuration.editSinkTemplate"):this.$t("configuration.addSinkTemplate")}},methods:{removeConfKey:function(e){var t=this,n=e.name,o=e.type;Object(g["c"])(this.nodeID,o,n).then((function(){t.$emit("reload")}))}}},le=se,ce=Object(N["a"])(le,A,L,!1,null,null,null),ue=ce.exports;function de(e){return pe(e)||me(e)||ye(e)||fe()}function fe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function pe(e){if(Array.isArray(e))return ve(e)}function he(e,t){return Ce(e)||ge(e,t)||ye(e,t)||be()}function be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ye(e,t){if(e){if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ge(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){s=!0,a=l}finally{try{r||null==n["return"]||n["return"]()}finally{if(s)throw a}}return i}}function Ce(e){if(Array.isArray(e))return e}var $e={name:"Resources",mixins:[l["a"]],components:{SourceConfKeys:re,SinkConfKeys:ue},data:function(){return{tabName:"source",tabs:["source","sink"],confKeyListJSON:{sources:[],sinks:[]}}},created:function(){this.getAllConfKeyList()},methods:{getAllConfKeyList:function(){var e=this;Object(g["e"])(this.nodeID).then((function(t){var n=t.data,o=n?Object.entries(n):[];o.length&&o.forEach((function(t){var n=he(t,2),o=n[0],a=n[1],i=[],r=a||[];r.forEach((function(e){var t=Object.keys(e);t.forEach((function(t){var n={};n.name=t,n.type=e[t],i=[].concat(de(i),[n])}))})),e.confKeyListJSON[o]=i}))}))}}},we=$e,Oe=Object(N["a"])(we,X,Z,!1,null,null,null),Fe=Oe.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schema"},[n("Button",{staticClass:"top-create--btn",attrs:{type:"primary"},on:{click:e.showCreateModal}},[n("Icon",{attrs:{type:"ios-add"}}),e._v(" "+e._s(e.$t("schema.createSchema"))+" ")],1),n("Table",{attrs:{loading:e.loading,columns:e.recordsCol,data:e.records}}),n("Modal",{attrs:{"class-name":"schema-modal--create modal-view-for-neuronEx",title:e.isEdit?e.$t("schema.editSchema"):e.isDetail?e.$t("schema.detailSchema"):e.$t("schema.addSchema"),width:600,"mask-closable":!1},model:{value:e.createModalVisible,callback:function(t){e.createModalVisible=t},expression:"createModalVisible"}},[e.createModalVisible?n("Form",{ref:"createForm",attrs:{model:e.createForm,rules:e.rules}},[n("Row",[n("i-col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("schema.schemaName"),prop:"name"}},[n("i-input",{attrs:{disabled:e.isEdit||e.isDetail,size:"large"},model:{value:e.createForm.name,callback:function(t){e.$set(e.createForm,"name",t)},expression:"createForm.name"}})],1)],1),n("i-col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.$t("schema.schemaType"),prop:"type"}},[n("Select",{attrs:{size:"large"},on:{"on-change":e.changeType},model:{value:e.createForm.type,callback:function(t){e.$set(e.createForm,"type",t)},expression:"createForm.type"}},e._l(e.typesList,(function(t){return n("Option",{key:t.value,attrs:{disabled:e.isDetail,value:t.value,label:t.label}})})),1)],1)],1),n("i-col",{attrs:{span:"24"}},[n("FormItem",{staticClass:"soFile",attrs:{prop:"soFile"}},[n("template",{slot:"label"},[n("span",{class:{redStarLable:e.isCustomType}},[e._v(e._s(e.$t("schema.binaryFile")))])]),n("a",{staticClass:"label-link",attrs:{href:"javascript:void(0);"},on:{click:e.showUploadFileModal}},[e._v(" "+e._s(e.$t("upload.uploadFile"))+" ")]),n("FileListAutoCompeleteSeletor",{ref:"sofileListSelectRef",attrs:{prefix:"file://",disabled:e.isDetail,placeholder:"file:///tmp/ekuiper/internal/schema/test/test2.so"},model:{value:e.createForm.soFile,callback:function(t){e.$set(e.createForm,"soFile",t)},expression:"createForm.soFile"}})],2)],1),e.isProtobufType?n("i-col",{attrs:{span:"24"}},[n("div",{staticClass:"redStar schema-content-label-wrap"},[n("span",{staticClass:"schema-content-label",class:{redStarLable:e.isProtobufType}},[e._v(" "+e._s(e.$t("schema.schemaContent"))+" ")]),e.isDetail?e._e():n("RadioGroup",{staticClass:"label-link",attrs:{type:"button",size:"small"},on:{"on-change":e.changeContentWay},model:{value:e.fileOrContent,callback:function(t){e.fileOrContent=t},expression:"fileOrContent"}},[n("Radio",{attrs:{label:"file"}},[e._v(e._s(e.$t("common.file")))]),n("Radio",{attrs:{label:"text"}},[e._v(e._s(e.$t("common.text")))])],1)],1)]):e._e(),e.isProtobufType&&"file"===e.fileOrContent||e.isDetail?n("i-col",{attrs:{span:"24"}},[n("FormItem",{attrs:{label:e.isDetail?e.$t("common.file"):"",prop:"file"}},[n("FileListAutoCompeleteSeletor",{ref:"fileListSelectRef",attrs:{prefix:"file://",placeholder:"file:///tmp/ekuiper/internal/schema/test/test2.proto",disabled:e.isDetail},model:{value:e.createForm.file,callback:function(t){e.$set(e.createForm,"file",t)},expression:"createForm.file"}})],1)],1):e._e(),e.isProtobufType&&"text"===e.fileOrContent||e.isDetail?n("i-col",{attrs:{span:"24"}},[n("FormItem",{key:"content",attrs:{label:e.isDetail?e.$t("common.text"):"",prop:"content"}},[n("i-input",{attrs:{type:"textarea",rows:3,size:"large",disabled:e.isDetail,placeholder:"message Book {required string title = 1; required int32 price = 2;}"},model:{value:e.createForm.content,callback:function(t){e.$set(e.createForm,"content",t)},expression:"createForm.content"}})],1)],1):e._e()],1)],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDetail,expression:"!isDetail"}],attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:function(t){e.createModalVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),n("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("common.submit")))])],1)],1),n("UploadFileModal",{attrs:{modalVisible:e.uploadFileModalVisible,isSupportCustom:!1,fileAccepts:".so"},on:{"update:modalVisible":function(t){e.uploadFileModalVisible=t},"update:modal-visible":function(t){e.uploadFileModalVisible=t},reload:e.reloadFileList}})],1)},je=[],_e=n("bd25"),De=n("5a81"),ke=n("8141"),Ke=n("23ac"),xe=n("b476"),Ee=["type"],Te=["file","content"];function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){if(null==e)return{};var n,o,a=Ae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ae(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}var Le={name:"Schema",mixins:[l["a"],_e["a"]],components:{FileListAutoCompeleteSeletor:ke["a"],UploadFileModal:Ke["a"],UploadFile:xe["a"]},data:function(){return{loading:!1,isEdit:!1,isDetail:!1,createModalVisible:!1,createForm:{type:"protobuf"},typesList:[{value:"protobuf",label:"protobuf"},{value:"custom",label:"custom"}],fileOrContent:"file",records:[],uploadFileModalVisible:!1}},computed:{recordsCol:function(){var e=this;this.$createElement;return[{title:this.$t("common.name"),key:"name",render:function(t,n){return t("div",[t("a",{attrs:{href:"javascript:;"},on:{click:function(){e.showDetail(n.row,"view")}}},[n.row.name])])}},{title:this.$t("common.type"),key:"type",render:function(e,t){return e("div",[t.row.type])}},{title:this.$t("common.operations"),key:"action",width:200,align:"center",render:function(t,n){return t("div",[t("a",{style:"margin-right: 10px;",attrs:{href:"javascript:;"},on:{click:function(){e.showDetail(n.row,"edit")}}},[t("Icon",{attrs:{type:"ios-create"}})]),t("a",{attrs:{href:"javascript:;"}},[t("Poptip",{attrs:{confirm:!0,transfer:!0,width:200,title:e.$t("common.confirmDelete"),placement:"top",type:"error"},on:{"on-ok":function(){e.remove(n.row,"edit")},"on-cancel":function(){}}},[t("Icon",{attrs:{type:"md-trash"}})])])])}}]},rules:function(){return{type:[{required:!0,message:this.$t("common.fillContent")}],name:[{required:!0,message:this.$t("common.fillContent")}],soFile:[{required:!this.isDetail&&this.isCustomType,message:this.$t("common.fillContent")}],file:[{required:!this.isDetail&&this.isProtobufType,message:this.$t("common.fillContent")}],content:[{required:!this.isDetail&&this.isProtobufType,message:this.$t("common.fillContent")}]}},isProtobufType:function(){return"protobuf"===this.createForm.type},isCustomType:function(){return"custom"===this.createForm.type}},watch:{createModalVisible:function(e){e||(this.$refs.createForm.resetFields(),this.isEdit=!1,this.isDetail=!1)}},created:function(){this.getSchemas()},methods:{getSchemas:function(){var e=this;this.loading=!0,this.getSchemaList(this.nodeID).then((function(t){e.loading=!1,e.records=t||[]})).catch((function(t){e.loading=!1,e.records=[],console.log("error",t)}))},showCreateModal:function(){this.createModalVisible=!0},showDetail:function(e,t){var n=this,o=e.name,a=e.type;this.createModalVisible=!0,this.isEdit="edit"===t,this.isDetail="view"===t,Object(De["g"])(this.nodeID,o,a).then((function(e){n.createForm=e.data;var t=e.data,o=t.soFile,a=t.file;o&&!o.includes("file://")&&(n.createForm.soFile="file://".concat(o)),a&&!a.includes("file://")&&(n.createForm.file="file://".concat(a))}))},remove:function(e){var t=this,n=e.name,o=e.type;Object(De["b"])(this.nodeID,n,o).then((function(){t.$Message.success(t.$t("common.deleteSuccess")),t.getSchemas()})).catch((function(){}))},changeType:function(){this.createForm.file="",this.createForm.content="",this.createForm.soFile=""},changeContentWay:function(){var e=this.$refs.createForm.fields||[];e.forEach((function(e){var t=e.prop;"content"!==t&&"file"!==t||(e.validateState="")}))},showUploadFileModal:function(){this.uploadFileModalVisible=!0},reloadFileList:function(){this.$refs.sofileListSelectRef.getFileList(),this.$refs.fileListSelectRef.getFileList()},save:function(){var e=this;this.$refs.createForm.validate((function(t){if(t){var n=e.createForm,o=n.type,a=Ie(n,Ee),i=a.file,r=a.content,s=Ie(a,Te),l="file"===e.fileOrContent?Me({file:i},s):Me({content:r},s);e.isEdit?Object(De["f"])(e.nodeID,o,a.name,l).then((function(){e.$Message.success(e.$t("common.editSuccess")),e.getSchemas(),e.createModalVisible=!1})).catch((function(){})):Object(De["a"])(e.nodeID,o,l).then((function(){e.$Message.success(e.$t("common.addSuccess")),e.getSchemas(),e.createModalVisible=!1})).catch((function(){}))}}))}}},Re=Le,Ue=(n("9211"),Object(N["a"])(Re,Se,je,!1,null,"1c969676",null)),Ne=Ue.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"upload-management"},[n("Button",{staticClass:"top-create--btn",attrs:{type:"primary"},on:{click:e.showUploadModal}},[n("Icon",{attrs:{type:"ios-add"}}),e._v(" "+e._s(e.$t("upload.createFile"))+" ")],1),n("Table",{attrs:{loading:e.loading,columns:e.tableColumn,data:e.fileList}}),n("UploadFileModal",{attrs:{modalVisible:e.uploadModalVisible,isSupportCustom:!0},on:{"update:modalVisible":function(t){e.uploadModalVisible=t},"update:modal-visible":function(t){e.uploadModalVisible=t},reload:e.getFileList}})],1)},qe=[],ze=n("91b6"),He={name:"UploadManagement",mixins:[l["a"]],components:{UploadFileModal:Ke["a"]},data:function(){return{loading:!1,fileList:[],uploadModalVisible:!1}},computed:{tableColumn:function(){var e=this;this.$createElement;return[{title:this.$t("common.name"),key:"name"},{title:this.$t("common.operations"),key:"action",width:200,align:"center",render:function(t,n){return t("div",[t("a",{attrs:{href:"javascript:;"}},[t("Poptip",{attrs:{confirm:!0,transfer:!0,width:200,title:e.$t("common.confirmDelete"),placement:"top",type:"error"},on:{"on-ok":function(){e.remove(n.row,"edit")},"on-cancel":function(){}}},[t("Icon",{attrs:{type:"md-trash"}})])])])}}]}},created:function(){this.getFileList()},methods:{getFileList:function(){var e=this;this.loading=!0,Object(ze["b"])(this.nodeID).then((function(t){null!==t&&void 0!==t&&t.data&&(e.fileList=t.data.map((function(e){return{name:e}})))})).finally((function(){e.loading=!1}))},remove:function(e){var t=this;if(null!==e&&void 0!==e&&e.name){var n=e.name.split("/"),o=n[n.length-1];Object(ze["a"])(this.nodeID,o).then((function(){t.$Message.success(t.$t("common.deleteSuccess")),t.getFileList()}))}},showUploadModal:function(){this.uploadModalVisible=!0}}},Je=He,Ye=Object(N["a"])(Je,Be,qe,!1,null,null,null),Ge=Ye.exports,We={name:"Configuration",mixins:[Q["a"]],components:{TabsHead:i["a"],Resources:Fe,Connections:W,Schema:Ne,UploadManagement:Ge},data:function(){var e=["sourceConfig","connection","schema","fileManagement"];return{tabArr:e,name:e[0]}},computed:{hiddenTabMap:function(){var e;return(null===(e=this.$store.state.nodeMenuHiddenSettingMap)||void 0===e?void 0:e.configuration)||{}}},methods:{countDefaultActiveTab:function(){var e=this,t=Object.keys(this.hiddenTabMap).filter((function(t){return e.hiddenTabMap[t]})),n=this.tabArr.filter((function(e){return!t.includes(e)}));this.name=n[0]}},created:function(){this.countDefaultActiveTab()}},Qe=We,Xe=(n("b52e"),Object(N["a"])(Qe,o,a,!1,null,null,null));t["default"]=Xe.exports},b476:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Upload",{attrs:{"before-upload":e.handleUpload,action:e.action,accept:e.accept,name:"uploadFile"}},[e._t("text",(function(){return[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.$t("upload.selectFile")))])]}))],2)},a=[],i={name:"UploadFile",props:{value:{type:[Object,File],default:null},action:{type:String,default:"#"},accept:{type:String,default:"-"}},data:function(){return{uploadfFles:this.value}},watch:{value:{immediate:!0,handler:function(e){this.uploadfFles=e}},uploadfFles:{immediate:!0,handler:function(e){this.$emit("input",e)}}},methods:{handleUpload:function(e){return this.uploadfFles=e,this.$emit("handleUpload",this.uploadfFles),!1}}},r=i,s=n("2877"),l=Object(s["a"])(r,o,a,!1,null,null,null);t["a"]=l.exports},b52e:function(e,t,n){"use strict";n("b54c")},b54c:function(e,t,n){},c19d:function(e,t,n){"use strict";n("0481")},ed50:function(e,t,n){}}]);